import{r as l,s as C,j as e,b as T}from"./index-Bf0_iwmC.js";const A=()=>{const[u,h]=l.useState(""),[p,b]=l.useState(""),[n,i]=l.useState([]),[r,c]=l.useState([]),[f,x]=l.useState(""),[d,m]=l.useState("active"),[j,v]=l.useState(""),N=C(),g=s=>{const t=Array.from(s.target.files);if(n.length+t.length>5){alert("You can only upload up to 5 photos");return}i([...n,...t]);const o=Array.from({length:t.length},()=>"");c([...r,...o])},y=s=>{i(t=>t.filter((o,a)=>a!==s)),c(t=>t.filter((o,a)=>a!==s))},S=async s=>{s.preventDefault();try{const t=new FormData;t.append("S_id",u),t.append("name",p),t.append("jobTitle",f),t.append("status",d),t.append("details",j),n.forEach((a,w)=>{t.append("photo",a),t.append("alt",r[w])});const o=await T.post("/api/staff/insertStaff",t,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});h(""),b(""),x(""),i([]),m("active"),c([]),v(""),N("/ourTeam")}catch(t){console.error(t)}};return e.jsxs("form",{onSubmit:S,className:"p-4",children:[e.jsx("h1",{className:"text-xl font-bold font-serif text-gray-700 uppercase text-center",children:"Add Team member"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"staffId",className:"block font-semibold mb-2",children:"Employee ID"}),e.jsx("input",{type:"text",id:"staffId",value:u,onChange:s=>h(s.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block font-semibold mb-2",children:"Name"}),e.jsx("input",{type:"text",id:"name",value:p,onChange:s=>b(s.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"jobTitle",className:"block font-semibold mb-2",children:"Job Title"}),e.jsx("input",{type:"text",id:"jobTitle",value:f,onChange:s=>x(s.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"details",className:"block font-semibold mb-2",children:[" ","Details"]}),e.jsx("textarea",{id:"details",value:j,onChange:s=>v(s.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("label",{htmlFor:"photo",className:"block font-semibold mb-2",children:"Photos"}),e.jsx("input",{type:"file",name:"photo",id:"photo",multiple:!0,onChange:g,className:"border rounded focus:outline-none ",accept:"image/*"}),n.length>0&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-4",children:n.map((s,t)=>e.jsxs("div",{className:"relative group flex flex-col items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:URL.createObjectURL(s),alt:`Service ${t+1}`,className:"h-32 w-full object-cover"}),e.jsx("button",{onClick:()=>y(t),className:"absolute top-4 right-2 bg-red-500 text-white rounded-md p-1 size-6 flex items-center justify-center hover:bg-red-600 focus:outline-none",children:"X"})]}),e.jsxs("label",{className:"block mt-2",children:["Alt Text:",e.jsx("input",{type:"text",value:r[t],onChange:o=>{const a=[...r];a[t]=o.target.value,c(a)},className:"w-full p-2 border rounded focus:outline-none"})]})]},t))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"status",className:"block font-semibold mb-2",children:"Status"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{className:"mr-4 text-green-500",children:[e.jsx("input",{type:"radio",value:"active",checked:d==="active",onChange:()=>m("active"),className:"mr-2"}),"Active"]}),e.jsxs("label",{className:"text-red-500",children:[e.jsx("input",{type:"radio",value:"inactive",checked:d==="inactive",onChange:()=>m("inactive"),className:"mr-2"}),"Inactive"]})]})]}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded",children:"Add Team Member"})]})};export{A as default};
