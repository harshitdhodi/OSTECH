import{r as l,s as D,j as e,b as q}from"./index-Bf0_iwmC.js";import{R as N}from"./quill.snow-N0L4fiYi.js";import{Q as A,B as F}from"./ReactToastify-C8h-yn_H.js";import"./clsx-B-dksMZM.js";const E=()=>{const[u,p]=l.useState(""),[h,b]=l.useState(""),[x,f]=l.useState(""),[v,g]=l.useState(""),[r,c]=l.useState([]),[n,i]=l.useState([]),[m,d]=l.useState("active"),C=D(),w=s=>{const t=Array.from(s.target.files);if(r.length+t.length>5){F.error("You can only upload up to 5 photos");return}c([...r,...t]);const o=Array.from({length:t.length},()=>"");i([...n,...o])},k=s=>{c(t=>t.filter((o,a)=>a!==s)),i(t=>t.filter((o,a)=>a!==s))},j={toolbar:[[{font:[]}],["bold","italic","underline","strike","blockquote"],[{header:[1,2,3,4,5,6,!1]}],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],["link","image","video"],[{direction:"rtl"}],[{color:[]},{background:[]}],[{align:[]}],["clean"]],clipboard:{matchVisual:!1}},y=async s=>{s.preventDefault();try{const t=new FormData;t.append("title",u),t.append("requirement",h),t.append("shortDescription",x),t.append("longDescription",v),r.forEach((a,S)=>{t.append("photo",a),t.append("alt",n[S])}),t.append("status",m);const o=await q.post("/api/careeroption/CreateCareeroption",t,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});p(""),b(""),f(""),g(""),c([]),d("active"),i([]),C("/careeroption")}catch(t){console.error(t)}};return e.jsxs("form",{onSubmit:y,className:"p-4",children:[e.jsx(A,{}),e.jsx("h1",{className:"text-xl font-bold font-serif text-gray-700 uppercase text-center",children:"Add Career Option"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"title",className:"block font-semibold mb-2",children:"Title"}),e.jsx("input",{type:"text",id:"title",value:u,onChange:s=>p(s.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"requirement",className:"block font-semibold mb-2",children:"Requirement"}),e.jsx("textarea",{id:"requirement",value:h,onChange:s=>b(s.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:4})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{htmlFor:"details",className:"block font-semibold mb-2",children:"Short Description"}),e.jsx(N,{value:x,onChange:f,modules:j,className:"quill"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{htmlFor:"details",className:"block font-semibold mb-2",children:"Long Description"}),e.jsx(N,{value:v,onChange:g,modules:j,className:"quill"})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("label",{htmlFor:"photo",className:"block font-semibold mb-2",children:"Photos"}),e.jsx("input",{type:"file",name:"photo",id:"photo",multiple:!0,onChange:w,className:"border rounded focus:outline-none",accept:"image/*"}),r.length>0&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-4",children:r.map((s,t)=>e.jsxs("div",{className:"relative w-56 group flex flex-col items-center",children:[e.jsxs("div",{className:"relative w-56",children:[e.jsx("img",{src:URL.createObjectURL(s),alt:`Career ${t+1}`,className:"h-32 w-56 object-cover"}),e.jsx("button",{onClick:()=>k(t),className:"absolute top-4 right-2 bg-red-500 text-white rounded-md p-1 size-6 flex items-center justify-center hover:bg-red-600 focus:outline-none",children:"X"})]}),e.jsxs("label",{className:"block mt-2",children:["Alternative Text:",e.jsx("input",{type:"text",value:n[t],onChange:o=>{const a=[...n];a[t]=o.target.value,i(a)},className:"w-full p-2 border rounded focus:outline-none"})]})]},t))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"status",className:"block font-semibold mb-2",children:"Status"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{className:"mr-4 text-green-500",children:[e.jsx("input",{type:"radio",value:"active",checked:m==="active",onChange:()=>d("active"),className:"mr-2"}),"Active"]}),e.jsxs("label",{className:"text-red-500",children:[e.jsx("input",{type:"radio",value:"inactive",checked:m==="inactive",onChange:()=>d("inactive"),className:"mr-2"}),"Inactive"]})]})]}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded",children:"Add Career"})]})};export{E as default};
