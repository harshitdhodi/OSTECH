import{r as s,s as v,b as p,j as e}from"./index-Bf0_iwmC.js";import{Q as w,B as y}from"./ReactToastify-C8h-yn_H.js";import"./clsx-B-dksMZM.js";const F=()=>{const[l,r]=s.useState(""),[n,c]=s.useState(""),[b,f]=s.useState(null),[i,o]=s.useState(""),[d,m]=s.useState("");v(),s.useEffect(()=>{N()},[]);const x=()=>{y.success("Updated Successfully!")},N=async()=>{try{const a=(await p.get("/api/header/getHeader",{withCredentials:!0})).data;r(a.phoneNo||""),c(a.email||""),m(a.alt||""),a.photo?o(`/api/header/download/${a.photo}`):o("")}catch(t){console.error(t)}},j=t=>{f(t.target.files[0]),o(URL.createObjectURL(t.target.files[0]))},g=async t=>{t.preventDefault();try{const a=new FormData;a.append("photo",b);const u={phoneNo:l,email:n,alt:d};for(const h in u)a.append(h,u[h]);const C=await p.put("/api/header/updateHeader",a,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}});x()}catch(a){console.error(a)}};return e.jsxs("form",{onSubmit:g,className:"p-4",children:[e.jsx("h1",{className:"text-xl font-bold font-serif text-gray-700 uppercase text-center",children:"Header Settings"}),e.jsx(w,{}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"phoneNo",className:"block font-semibold mb-2",children:"Phone Number"}),e.jsx("input",{type:"text",id:"phoneNo",value:l,onChange:t=>r(t.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"email",className:"block font-semibold mb-2",children:"Email"}),e.jsx("input",{type:"email",id:"email",value:n,onChange:t=>c(t.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block font-semibold mb-2",children:"Current Image"}),i&&e.jsx("img",{src:i,alt:"Current",className:"w-56 h-32 object-cover"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"alt",className:"block font-semibold mb-2",children:"Alt Text"}),e.jsx("input",{type:"text",id:"alt",value:d,onChange:t=>m(t.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"image",className:"block font-semibold mb-2",children:"Upload New Image"}),e.jsx("input",{type:"file",id:"photo",onChange:j,accept:"image/*",className:"w-full p-2 border rounded focus:outline-none"})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 focus:outline-none",children:"Save Changes"})})]})};export{F as default};
