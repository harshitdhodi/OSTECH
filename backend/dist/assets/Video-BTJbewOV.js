import{r as t,s as i,j as e,L as n,b as o}from"./index-Bf0_iwmC.js";const b=()=>{const[a,d]=t.useState([]),l=i();t.useEffect(()=>{(async()=>{try{const s=await o.get("/api/video/getvideo");d(s.data.data)}catch(s){console.error("Error fetching videos:",s)}})()},[]);const c=async r=>{try{await o.delete(`/api/video/deleteVideo?id=${r}`),d(a.filter(s=>s._id!==r))}catch(s){console.error("Error deleting video:",s),alert("Failed to delete video.")}};return e.jsxs("div",{className:"container mx-auto mt-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Video List"}),e.jsx("button",{onClick:()=>l("/add-video"),className:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-600 focus:outline-none focus:ring focus:ring-blue-200",children:"Add Video"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto w-full border-collapse border border-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Title"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"YouTube ID"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Duration"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Views"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Channel"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Actions"})]})}),e.jsx("tbody",{children:a.map(r=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:r.title}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:r.youtubeId}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:r.duration}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:r.views}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:r.channel}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(n,{to:`/edit-video/${r._id}`,className:"text-blue-500 hover:underline",children:"Edit"}),e.jsx("button",{onClick:()=>c(r._id),className:"text-red-500 hover:underline",children:"Delete"})]})})]},r.videoId))})]})})]})};export{b as default};
