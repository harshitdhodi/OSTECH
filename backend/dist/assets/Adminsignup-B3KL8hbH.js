import{r as o,j as e,L as P,b as S}from"./index-Bf0_iwmC.js";import{Q as C,B as E}from"./ReactToastify-C8h-yn_H.js";import"./clsx-B-dksMZM.js";function D(){const[i,f]=o.useState(""),[l,h]=o.useState(""),[d,g]=o.useState(""),[m,b]=o.useState(""),[c,w]=o.useState(""),[x,y]=o.useState(null),[t,j]=o.useState({}),[p,u]=o.useState(!1),N=async s=>{s.preventDefault(),u(!0);let r=!1;const n={};if(i.trim()?/\S+@\S+\.\S+/.test(i)||(n.email="Please enter a valid email address",r=!0):(n.email="Email is required",r=!0),l.trim()?l.length<8&&(n.password="Password must be at least 8 characters long",r=!0):(n.password="Password is required",r=!0),d.trim()?l!==d&&(n.confirmPassword="Passwords do not match",r=!0):(n.confirmPassword="Confirm Password is required",r=!0),m.trim()||(n.firstname="First name is required",r=!0),c.trim()||(n.lastname="Last name is required",r=!0),r){j(n),u(!1);return}try{const a=new FormData;a.append("email",i),a.append("notpassword",l),a.append("firstname",m),a.append("lastname",c),x&&a.append("photo",x),await S.post("/api/admin/register",a,{headers:{"Content-Type":"multipart/form-data"}}),u(!1),alert("Signup successful. Please login to continue.")}catch(a){a.response&&a.response.status===400&&E.error(a.response.data.message)}},v=s=>{y(s.target.files[0])};return e.jsxs("div",{className:"flex justify-center items-center h-screen lg:px-[14rem] md:px-[9rem] sm:px-[7rem] px-[12px] shadow-2xl",children:[e.jsx(C,{}),e.jsxs("div",{className:"flex flex-col justify-center items-center w-[11cm] bg-gray-200 rounded-lg",children:[e.jsx("h2",{className:"text-blue-950 text-2xl font-sens flex items-center justify-center font-bold px-5 mt-4",children:"Admin Signup"}),e.jsxs("form",{className:"mt-8 w-3/4",onSubmit:N,children:[e.jsxs("div",{className:"md:flex md:gap-2",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-600 text-sm font-medium mb-2",children:"First Name"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Enter your first name",value:m,onChange:s=>b(s.target.value)}),t.firstname&&e.jsx("p",{className:"text-red-500 text-xs italic",children:t.firstname})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-600 text-sm font-medium mb-2",children:"Last Name"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Enter your last name",value:c,onChange:s=>w(s.target.value)}),t.lastname&&e.jsx("p",{className:"text-red-500 text-xs italic",children:t.lastname})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-600 text-sm font-medium mb-2",children:"Email ID"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"email",placeholder:"Enter your email",value:i,onChange:s=>f(s.target.value)}),t.email&&e.jsx("p",{className:"text-red-500 text-xs italic",children:t.email})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-600 text-sm font-medium mb-2",children:"Password"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"password",placeholder:"Enter your password",value:l,onChange:s=>h(s.target.value)}),t.password&&e.jsx("p",{className:"text-red-500 text-xs italic",children:t.password})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-600 text-sm font-medium mb-2",children:"Confirm Password"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"password",placeholder:"Confirm your password",value:d,onChange:s=>g(s.target.value)}),t.confirmPassword&&e.jsx("p",{className:"text-red-500 text-xs italic",children:t.confirmPassword})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-600 text-sm font-medium mb-2",children:"Profile Photo"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"file",accept:"image/*",onChange:v})]}),e.jsx("button",{className:"bg-blue-950 hover:bg-blue-900 hover:text-white border-[1px] border-blue-900 text-white font-bold text-[20px] py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 w-full",type:"submit",disabled:p,children:p?"Signing up...":"Signup"}),e.jsxs("div",{className:"text-right justify-between mt-4 mb-2",children:["Already a member?",e.jsx(P,{className:"text-blue-500 text-sm hover:underline ml-2",to:"/",children:"Login here"})]})]})]})]})}export{D as default};
