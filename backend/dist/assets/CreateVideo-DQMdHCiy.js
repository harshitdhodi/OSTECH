import{r as c,s as b,j as e,b as m}from"./index-Bf0_iwmC.js";const f=()=>{const[o,a]=c.useState({title:"",youtubeId:"",duration:"",views:"",channel:"",videoId:null}),d=b(),l=s=>{const{name:n,value:t,type:u,files:r}=s.target;a(u==="file"?{...o,videoId:r[0]}:{...o,[n]:t})},i=async s=>{s.preventDefault();const n=new FormData;n.append("title",o.title),n.append("youtubeId",o.youtubeId),n.append("duration",o.duration),n.append("views",o.views),n.append("channel",o.channel),o.videoId&&n.append("videoId",o.videoId);try{const t=await m.post("/api/video/addvideo",n,{headers:{"Content-Type":"multipart/form-data"}});console.log("Video added successfully:",t.data),d("/video"),a({title:"",youtubeId:"",duration:"",views:"",channel:"",videoId:null})}catch(t){console.error("Error adding video:",t),alert("Failed to add video.")}};return e.jsxs("div",{className:"w-full mx-auto mt-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Add New Video"}),e.jsxs("form",{onSubmit:i,className:"mx-auto bg-white p-6 rounded shadow",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"title",children:"Title"}),e.jsx("input",{type:"text",id:"title",name:"title",value:o.title,onChange:l,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"youtubeId",children:"YouTube ID"}),e.jsx("input",{type:"text",id:"youtubeId",name:"youtubeId",value:o.youtubeId,onChange:l,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"duration",children:"Duration"}),e.jsx("input",{type:"text",id:"duration",name:"duration",value:o.duration,onChange:l,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"views",children:"Views"}),e.jsx("input",{type:"text",id:"views",name:"views",value:o.views,onChange:l,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"channel",children:"Channel"}),e.jsx("input",{type:"text",id:"channel",name:"channel",value:o.channel,onChange:l,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"videoId",children:"Video File"}),e.jsx("input",{type:"file",id:"videoId",name:"videoId",onChange:l,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-200"})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-600 focus:outline-none focus:ring focus:ring-blue-200",children:"Add Video"})]})]})};export{f as default};
