import{r as a,s as _,j as e,t as Q,v as j,w as G,L as y,x as V,y as W,b as o,z as J,C as N,D as K}from"./index-Bf0_iwmC.js";import{r as C,U as X,l as Y}from"./index-DPkFNSVF.js";import{Q as Z,B as ee}from"./ReactToastify-C8h-yn_H.js";import{M as w}from"./index-D-LDOxyL.js";import{R as v}from"./quill.snow-N0L4fiYi.js";import"./clsx-B-dksMZM.js";import"./index-D5MXH53t.js";w.setAppElement("#root");const le=()=>{const[d,p]=a.useState(""),[u,m]=a.useState(""),[i,S]=a.useState([]),[O,h]=a.useState(!0),[n,H]=a.useState(""),[r,x]=a.useState(null),[T,b]=a.useState(!1),g=_(),k=()=>{ee.success("Updated Successfully!")},D=a.useMemo(()=>i.filter(s=>s.title.toLowerCase().includes(n.toLowerCase())),[i,n]),P=a.useMemo(()=>[{Header:"ID",accessor:"id"},{Header:"Title",accessor:"title",Cell:({row:s})=>e.jsx("span",{className:"hover:text-blue-500 cursor-pointer",onClick:()=>g(`/careeroption/editCareerOption/${s.original._id}`),children:s.original.title})},{Header:"Requirement",accessor:"requirement",Cell:({row:s})=>e.jsx("span",{className:"hover:text-blue-500 cursor-pointer",onClick:()=>g(`/careeroption/editCareerOption/${s.original._id}`),children:s.original.requirement})},{Header:"Photo",accessor:"photo",Cell:({value:s})=>{const t=Array.isArray(s)&&s.length>0?s[0]:null;return t?e.jsx("img",{src:`/api/image/download/${t}`,alt:"Career",className:"w-32 h-20 object-cover"}):null},disableSortBy:!0},{Header:"Status",accessor:"status",Cell:({value:s})=>s==="active"?e.jsx(Q,{className:"text-green-500"}):e.jsx(j,{className:"text-red-500"}),disableSortBy:!0},{Header:"Options",Cell:({row:s})=>e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{className:"text-blue-500 hover:text-blue-700 transition",onClick:()=>R(s.original),children:e.jsx(G,{})}),e.jsx("button",{className:"text-blue-500 hover:text-blue-700 transition",children:e.jsx(y,{to:`/careeroption/editCareerOption/${s.original._id}`,children:e.jsx(V,{})})}),e.jsx("button",{className:"text-red-500 hover:text-red-700 transition",onClick:()=>M(s.original._id),children:e.jsx(W,{})})]}),disableSortBy:!0}],[]),{getTableProps:B,getTableBodyProps:F,headerGroups:q,rows:A,prepareRow:E}=C.useTable({columns:P,data:D},C.useSortBy),f=async()=>{h(!0);try{const t=(await o.get("/api/careeroption/getCareeroption",{withCredentials:!0})).data.map((c,U)=>({...c,id:U+1}));S(t)}catch(s){console.error(s)}finally{h(!1)}},M=async s=>{try{const t=await o.delete(`/api/careeroption/deleteCareeroption?id=${s}`,{withCredentials:!0});f()}catch(t){console.error(t)}};a.useEffect(()=>{f()},[]);const R=s=>{x(s),b(!0)},l=()=>{b(!1),x(null)},L=async()=>{try{const s=await o.get("/api/pageHeading/heading?pageType=career",{withCredentials:!0}),{heading:t,subheading:c}=s.data;p(t||""),m(c||"")}catch(s){console.error(s)}},$=async()=>{try{await o.put("/api/pageHeading/updateHeading?pageType=career",{pagetype:"career",heading:d,subheading:u},{withCredentials:!0}),k()}catch(s){console.error(s)}};a.useEffect(()=>{L()},[]);const z=s=>p(s.target.value),I=s=>m(s.target.value);return e.jsxs("div",{className:"p-4 overflow-x-auto",children:[e.jsx(Z,{}),e.jsxs("div",{className:"mb-8 border border-gray-200 shadow-lg p-4 rounded ",children:[e.jsxs("div",{className:"grid md:grid-cols-2 md:gap-2 grid-cols-1",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2 uppercase font-serif",children:"Heading"}),e.jsx("input",{type:"text",value:d,onChange:z,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:border-blue-500 transition duration-300"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2 uppercase font-serif",children:"Sub heading"}),e.jsx("input",{type:"text",value:u,onChange:I,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:border-blue-500 transition duration-300"})]})]}),e.jsx("button",{onClick:$,className:"px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-900 transition duration-300 font-serif",children:"Save"})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h1",{className:"text-xl font-bold  text-gray-700 font-serif uppercase",children:"Career Options"}),e.jsx("button",{className:"px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-900 transition duration-300 font-serif",children:e.jsx(y,{to:"/careeroption/createCareerOption",children:e.jsx(J,{size:15})})})]}),e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"text",placeholder:"Search by title...",value:n,onChange:s=>H(s.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:border-blue-500 transition duration-300"})}),e.jsx("h2",{className:"text-md font-semibold mb-4",children:"Manage Career Options"}),O?e.jsx("div",{className:"flex justify-center",children:e.jsx(X,{animation:Y,size:56})}):e.jsx(e.Fragment,{children:i.length==0?e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("iframe",{className:"w-96 h-96",src:"https://lottie.host/embed/1ce6d411-765d-4361-93ca-55d98fefb13b/AonqR3e5vB.json"})}):e.jsxs("table",{className:"w-full mt-4 border-collapse",...B(),children:[e.jsx("thead",{className:"bg-slate-700 hover:bg-slate-800 text-white",children:q.map(s=>e.jsx("tr",{...s.getHeaderGroupProps(),children:s.headers.map(t=>e.jsx("th",{...t.getHeaderProps(t.getSortByToggleProps()),className:"py-2 px-4 border-b border-gray-300 cursor-pointer uppercase font-serif ",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"",children:t.render("Header")}),t.canSort&&e.jsx("span",{className:"ml-1",children:t.isSorted?t.isSortedDesc?e.jsx(N,{}):e.jsx(K,{}):e.jsx(N,{className:"text-gray-400"})})]})}))}))}),e.jsx("tbody",{...F(),children:A.map(s=>(E(s),e.jsx("tr",{...s.getRowProps(),className:"border-b border-gray-300 hover:bg-gray-100 transition duration-150",children:s.cells.map(t=>e.jsx("td",{...t.getCellProps(),className:"py-2 px-4 ",children:t.render("Cell")}))})))})]})}),e.jsx(w,{isOpen:T,onRequestClose:l,contentLabel:"Banner Details",className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50",children:e.jsxs("div",{className:"bg-white p-8 rounded shadow-lg w-96 relative",children:[e.jsx("button",{onClick:l,className:"absolute top-5 right-5 text-gray-500 hover:text-gray-700",children:e.jsx(j,{size:20})}),e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Career option Description"}),r&&e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex mt-2",children:[e.jsx("p",{className:"mr-2 font-semibold font-serif",children:"Priority :"}),e.jsx("p",{children:r.title})]}),e.jsxs("div",{className:"flex mt-2",children:[e.jsx("p",{className:"mr-2 font-semibold font-serif",children:"Section :"}),e.jsx("p",{children:r.requirement})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{className:"font-semibold font-serif",children:["Short Description:",e.jsx(v,{readOnly:!0,value:r.shortDescription,modules:{toolbar:!1},theme:"bubble",className:"quill"})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{className:"mr-2 font-semibold font-serif",children:["Long Description:",e.jsx(v,{readOnly:!0,value:r.longDescription,modules:{toolbar:!1},theme:"bubble",className:"quill"})]})})]}),e.jsx("button",{onClick:l,className:"mt-4 px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-900 transition duration-300",children:"Close"})]})})]})};export{le as default};
