import{r as s,s as y,b as d,j as e}from"./index-Bf0_iwmC.js";const C=()=>{const[o,n]=s.useState(""),[i,c]=s.useState(""),[r,l]=s.useState(null),[m,u]=s.useState([]),g=y();s.useEffect(()=>{p()},[]);const p=async()=>{try{const t=await d.get("/api/gallery/getCategory",{withCredentials:!0});u(t.data)}catch(t){console.error(t)}},h=t=>{const a=t.target.files[0];l(a)},b=()=>{l(null)},x=async t=>{t.preventDefault();try{const a=new FormData;a.append("categories",o),a.append("alt",i),a.append("images",r);const j=await d.post("/api/gallery/createGallery",a,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});n(""),c(""),l(null),g("/gallery")}catch(a){console.error(a)}},f=t=>e.jsx("option",{value:t._id,children:t.category},t._id);return e.jsxs("form",{onSubmit:x,className:"p-4",children:[e.jsx("h1",{className:"text-xl font-bold font-serif text-gray-700 uppercase text-center",children:"Create Gallery"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"categories",className:"block font-semibold mb-2",children:"Category"}),e.jsxs("select",{id:"categories",value:o,onChange:t=>n(t.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Select Category"}),m.map(f)]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{htmlFor:"images",className:"block font-semibold mb-2",children:"Photo"}),e.jsx("input",{type:"file",name:"images",id:"images",onChange:h,className:"border rounded focus:outline-none",accept:"image/*"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"alt",className:"block font-semibold mb-2",children:"Alternative Text"}),e.jsx("input",{type:"text",id:"alt",value:i,onChange:t=>c(t.target.value),className:"w-56 p-2 border rounded focus:outline-none",required:!0})]}),r&&e.jsxs("div",{className:"mt-2 w-56 relative group",children:[e.jsx("img",{src:URL.createObjectURL(r),alt:"Gallery",className:"h-32 w-56 object-cover"}),e.jsx("button",{type:"button",onClick:b,className:"absolute top-4 right-2 bg-red-500 text-white rounded-md p-1 size-6 flex items-center justify-center hover:bg-red-600 focus:outline-none",children:"X"})]})]}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded",children:"Add Gallery"})]})};export{C as default};
