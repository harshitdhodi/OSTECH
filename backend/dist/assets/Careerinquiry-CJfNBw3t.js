import{r as a,j as e,J as q,w as I,y as S,b as l,C as c,D as H}from"./index-Bf0_iwmC.js";import{r as d,U as T,l as P}from"./index-DPkFNSVF.js";const E=()=>{const[t,x]=a.useState([]),[u,o]=a.useState(!0),[i,m]=a.useState(""),p=a.useMemo(()=>t.filter(s=>s.name.toLowerCase().includes(i.toLowerCase())),[t,i]),h=a.useMemo(()=>[{Header:"ID",accessor:"id"},{Header:"Name",accessor:"name"},{Header:"Mobile No",accessor:"mobileNo"},{Header:"Email",accessor:"email"},{Header:"Resume",accessor:"resume",Cell:({value:s})=>e.jsxs("div",{className:"flex gap-4",children:[e.jsx("a",{className:"text-green-500 hover:text-green-700 transition",href:`/api/careerInquiries/download/${s}`,children:e.jsx(q,{size:20})}),e.jsx("button",{className:"text-blue-500 hover:text-blue-700 transition",onClick:()=>w(s),children:e.jsx(I,{size:20})})]}),disableSortBy:!0},{Header:"Message",accessor:"message"},{Header:"Options",Cell:({row:s})=>e.jsx("div",{className:"flex gap-4",children:e.jsx("button",{className:"text-red-500 hover:text-red-700 transition",onClick:()=>N(s.original._id),children:e.jsx(S,{})})}),disableSortBy:!0}],[]),{getTableProps:b,getTableBodyProps:j,headerGroups:g,rows:f,prepareRow:y}=d.useTable({columns:h,data:p},d.useSortBy),n=async()=>{o(!0);try{const r=(await l.get("/api/careerInquiries/getCareerInquiries",{withCredentials:!0})).data.data.map((v,C)=>({...v,id:C+1}));x(r)}catch(s){console.error(s)}finally{o(!1)}},N=async s=>{try{const r=await l.delete(`/careerInquiries/deleteCareerInquiries/${s}`,{withCredentials:!0});n()}catch(r){console.error(r)}},w=s=>{window.open(`/api/careerInquiries/view/${s}`)};return a.useEffect(()=>{n()},[]),e.jsxs("div",{className:"p-4 overflow-x-auto",children:[e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"text",placeholder:"Search by name...",value:i,onChange:s=>m(s.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:border-blue-500 transition duration-300"})}),e.jsx("h2",{className:"text-xl font-bold  text-gray-700 font-serif uppercase",children:"Career Inquiries"}),u?e.jsx("div",{className:"flex justify-center",children:e.jsx(T,{animation:P,size:56})}):e.jsx(e.Fragment,{children:t.length==0?e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("iframe",{className:"w-96 h-96",src:"https://lottie.host/embed/1ce6d411-765d-4361-93ca-55d98fefb13b/AonqR3e5vB.json"})}):e.jsxs("table",{className:"w-full mt-4 border-collapse",...b(),children:[e.jsx("thead",{className:"bg-slate-700 hover:bg-slate-800 text-white",children:g.map(s=>e.jsx("tr",{...s.getHeaderGroupProps(),children:s.headers.map(r=>e.jsx("th",{...r.getHeaderProps(r.getSortByToggleProps()),className:"py-2 px-4 border-b border-gray-300 cursor-pointer uppercase font-serif ",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"",children:r.render("Header")}),r.canSort&&e.jsx("span",{className:"ml-1",children:r.isSorted?r.isSortedDesc?e.jsx(c,{}):e.jsx(H,{}):e.jsx(c,{className:"text-gray-400"})})]})}))}))}),e.jsx("tbody",{...j(),children:f.map(s=>(y(s),e.jsx("tr",{...s.getRowProps(),className:"border-b border-gray-300 hover:bg-gray-100 transition duration-150",children:s.cells.map(r=>e.jsx("td",{...r.getCellProps(),className:"py-2 px-4 ",children:r.render("Cell")}))})))})]})})]})};export{E as default};
